/*! mpdisco 2014-06-26 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],a):a(window.jQuery)}(function($){"use strict";$.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{getNumberOfFiles:$.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(a,b){if(b.disabled)return a;var c=$.Deferred(),d=this.options,e=a.files[a.index],f=d.getNumberOfFiles();return f&&"number"===$.type(b.maxNumberOfFiles)&&f+a.files.length>b.maxNumberOfFiles?e.error=d.i18n("maxNumberOfFiles"):!b.acceptFileTypes||b.acceptFileTypes.test(e.type)||b.acceptFileTypes.test(e.name)?b.maxFileSize&&e.size>b.maxFileSize?e.error=d.i18n("maxFileSize"):"number"===$.type(e.size)&&e.size<b.minFileSize?e.error=d.i18n("minFileSize"):delete e.error:e.error=d.i18n("acceptFileTypes"),e.error||a.files.error?(a.files.error=!0,c.rejectWith(this,[a])):c.resolveWith(this,[a]),c.promise()}}})});